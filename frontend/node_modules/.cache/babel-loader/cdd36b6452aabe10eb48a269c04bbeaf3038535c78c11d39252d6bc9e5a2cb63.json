{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sreer\\\\OneDrive\\\\Documents\\\\VSCODE\\\\settlr\\\\frontend\\\\src\\\\components\\\\Groups.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Users, Plus, UserPlus, Settings, DollarSign, Calendar, TrendingUp, TrendingDown, ArrowRight, Trash2, X } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Groups = ({\n  currentUser\n}) => {\n  _s();\n  var _selectedGroup$member2, _selectedGroup$member3;\n  const [groups, setGroups] = useState([]);\n  const [showCreateGroup, setShowCreateGroup] = useState(false);\n  const [selectedGroup, setSelectedGroup] = useState(null);\n  const [showAddMember, setShowAddMember] = useState(false);\n  const [showAddExpense, setShowAddExpense] = useState(false);\n  const [groupBalances, setGroupBalances] = useState({});\n  const [groupExpenses, setGroupExpenses] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [loadingBalances, setLoadingBalances] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    memberIds: []\n  });\n  const [expenseFormData, setExpenseFormData] = useState({\n    description: '',\n    amount: '',\n    paidById: '',\n    splitBetween: []\n  });\n\n  // Search-related state\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [addMemberSearchQuery, setAddMemberSearchQuery] = useState('');\n  const [addMemberSearchResults, setAddMemberSearchResults] = useState([]);\n  const API_BASE = 'http://localhost:8080/api';\n  useEffect(() => {\n    if (currentUser) {\n      fetchGroups();\n    }\n  }, [currentUser]);\n  useEffect(() => {\n    if (groups.length > 0) {\n      loadGroupBalancesAndExpenses();\n    }\n  }, [groups]);\n  const fetchGroups = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`${API_BASE}/groups/user/${currentUser.id}`);\n      if (response.ok) {\n        const groupsData = await response.json();\n        setGroups(groupsData);\n      }\n    } catch (error) {\n      console.error('Error fetching groups:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const searchUsers = async query => {\n    if (!query || query.trim().length < 4) {\n      setSearchResults([]);\n      return;\n    }\n    try {\n      setIsSearching(true);\n      const response = await fetch(`${API_BASE}/users/search?name=${encodeURIComponent(query)}`);\n      if (response.ok) {\n        const usersData = await response.json();\n        // Filter out current user and already selected members\n        const filtered = usersData.filter(user => user.id !== currentUser.id && !formData.memberIds.includes(user.id));\n        setSearchResults(filtered);\n      }\n    } catch (error) {\n      console.error('Error searching users:', error);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n  const searchUsersForAddMember = async query => {\n    if (!query || query.trim().length < 4) {\n      setAddMemberSearchResults([]);\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE}/users/search?name=${encodeURIComponent(query)}`);\n      if (response.ok) {\n        var _selectedGroup$member;\n        const usersData = await response.json();\n        // Filter out current group members\n        const memberIds = ((_selectedGroup$member = selectedGroup.members) === null || _selectedGroup$member === void 0 ? void 0 : _selectedGroup$member.map(m => m.id)) || [];\n        const filtered = usersData.filter(user => !memberIds.includes(user.id));\n        setAddMemberSearchResults(filtered);\n      }\n    } catch (error) {\n      console.error('Error searching users:', error);\n    }\n  };\n\n  // Debounce search\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      searchUsers(searchQuery);\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [searchQuery]);\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      searchUsersForAddMember(addMemberSearchQuery);\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [addMemberSearchQuery]);\n  const loadGroupBalancesAndExpenses = async () => {\n    if (loadingBalances) return;\n    setLoadingBalances(true);\n    const balances = {};\n    const expenses = {};\n    for (const group of groups) {\n      try {\n        // Fetch group balances\n        const balanceResponse = await fetch(`${API_BASE}/expenses/group/${group.id}/balances`);\n        if (balanceResponse.ok) {\n          const balanceData = await balanceResponse.json();\n          balances[group.id] = balanceData;\n        }\n\n        // Fetch group expenses\n        const expenseResponse = await fetch(`${API_BASE}/expenses/group/${group.id}`);\n        if (expenseResponse.ok) {\n          const expenseData = await expenseResponse.json();\n          expenses[group.id] = expenseData;\n        }\n      } catch (error) {\n        console.error('Error loading data for group:', group.id, error);\n      }\n    }\n    setGroupBalances(balances);\n    setGroupExpenses(expenses);\n    setLoadingBalances(false);\n  };\n  const handleCreateGroup = async e => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n\n      // Create group with only current user as member\n      const groupData = {\n        name: formData.name,\n        description: formData.description,\n        memberIds: [currentUser.id] // Only add creator initially\n      };\n      const response = await fetch(`${API_BASE}/groups?createdByUserId=${currentUser.id}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(groupData)\n      });\n      if (response.ok) {\n        const newGroup = await response.json();\n\n        // Send invitations to selected members\n        if (formData.memberIds.length > 0) {\n          await Promise.all(formData.memberIds.map(memberId => fetch(`${API_BASE}/invitations/send?groupId=${newGroup.id}&inviterId=${currentUser.id}&inviteeId=${memberId}`, {\n            method: 'POST'\n          })));\n          alert(`Group created! Invitations sent to ${formData.memberIds.length} user(s).`);\n        }\n        setGroups(prev => [...prev, newGroup]);\n        setFormData({\n          name: '',\n          description: '',\n          memberIds: []\n        });\n        setSearchQuery('');\n        setSearchResults([]);\n        setShowCreateGroup(false);\n        console.log('Group created successfully:', newGroup);\n      } else {\n        const errorText = await response.text();\n        console.error('Failed to create group:', errorText);\n        alert('Failed to create group. Please try again.');\n      }\n    } catch (error) {\n      console.error('Failed to create group:', error);\n      alert('Failed to create group. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleMemberToggle = userId => {\n    setFormData(prev => ({\n      ...prev,\n      memberIds: prev.memberIds.includes(userId) ? prev.memberIds.filter(id => id !== userId) : [...prev.memberIds, userId]\n    }));\n    // Clear search after adding\n    if (!formData.memberIds.includes(userId)) {\n      setSearchQuery('');\n      setSearchResults([]);\n    }\n  };\n  const handleAddMember = async userId => {\n    try {\n      // Send invitation instead of directly adding\n      const response = await fetch(`${API_BASE}/invitations/send?groupId=${selectedGroup.id}&inviterId=${currentUser.id}&inviteeId=${userId}`, {\n        method: 'POST'\n      });\n      if (response.ok) {\n        alert('Invitation sent successfully!');\n        setShowAddMember(false);\n        setAddMemberSearchQuery('');\n        setAddMemberSearchResults([]);\n        console.log('Invitation sent successfully');\n      } else {\n        console.error('Failed to send invitation');\n        alert('Failed to send invitation. User may already have a pending invitation.');\n      }\n    } catch (error) {\n      console.error('Failed to send invitation:', error);\n      alert('Failed to send invitation. Please try again.');\n    }\n  };\n  const handleDeleteGroup = async groupId => {\n    if (!window.confirm('Are you sure you want to delete this group? This action cannot be undone.')) {\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE}/groups/${groupId}`, {\n        method: 'DELETE'\n      });\n      if (response.ok) {\n        alert('Group deleted successfully!');\n        fetchGroups(); // Refresh the groups list\n      } else {\n        alert('Failed to delete group. You may not have permission.');\n      }\n    } catch (error) {\n      console.error('Error deleting group:', error);\n      alert('Failed to delete group. Please try again.');\n    }\n  };\n  const handleRemoveMember = async (groupId, userId) => {\n    if (!window.confirm('Are you sure you want to remove this member from the group?')) {\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE}/groups/${groupId}/members/${userId}`, {\n        method: 'DELETE'\n      });\n      if (response.ok) {\n        alert('Member removed successfully!');\n        fetchGroups(); // Refresh the groups list\n        if (selectedGroup && selectedGroup.id === groupId) {\n          // Update selectedGroup if we're viewing this group\n          const updatedGroup = await response.json();\n          setSelectedGroup(updatedGroup);\n        }\n      } else {\n        alert('Failed to remove member. You may not have permission.');\n      }\n    } catch (error) {\n      console.error('Error removing member:', error);\n      alert('Failed to remove member. Please try again.');\n    }\n  };\n  const handleCreateExpense = async e => {\n    e.preventDefault();\n    if (!expenseFormData.description || !expenseFormData.amount || !expenseFormData.paidById) {\n      alert('Please fill in all required fields');\n      return;\n    }\n    if (expenseFormData.splitBetween.length === 0) {\n      alert('Please select at least one person to split the expense with');\n      return;\n    }\n    try {\n      setLoading(true);\n      const response = await fetch(`${API_BASE}/expenses`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          description: expenseFormData.description,\n          amount: parseFloat(expenseFormData.amount),\n          paidById: expenseFormData.paidById,\n          groupId: selectedGroup.id,\n          splitBetween: expenseFormData.splitBetween\n        })\n      });\n      if (response.ok) {\n        alert('Expense created successfully!');\n        setShowAddExpense(false);\n        setExpenseFormData({\n          description: '',\n          amount: '',\n          paidById: '',\n          splitBetween: []\n        });\n        fetchGroups(); // Refresh to update balances\n      } else {\n        alert('Failed to create expense');\n      }\n    } catch (error) {\n      console.error('Error creating expense:', error);\n      alert('Failed to create expense. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleExpenseSplitToggle = userId => {\n    setExpenseFormData(prev => ({\n      ...prev,\n      splitBetween: prev.splitBetween.includes(userId) ? prev.splitBetween.filter(id => id !== userId) : [...prev.splitBetween, userId]\n    }));\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    });\n  };\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR'\n    }).format(amount || 0);\n  };\n  const getUserBalance = (groupId, userId) => {\n    // Load settled items from localStorage\n    const settledItems = (() => {\n      const saved = localStorage.getItem('settledItems');\n      return saved ? JSON.parse(saved) : [];\n    })();\n\n    // Calculate balance from expenses (same logic as Dashboard)\n    const expenses = groupExpenses[groupId] || [];\n    const balances = {};\n\n    // Calculate net balances\n    expenses.forEach(expense => {\n      var _expense$splitBetween, _expense$paidBy;\n      const totalAmount = expense.amount;\n      const splitCount = ((_expense$splitBetween = expense.splitBetweenUsers) === null || _expense$splitBetween === void 0 ? void 0 : _expense$splitBetween.length) || 1;\n      const amountPerPerson = totalAmount / splitCount;\n      const paidByName = (_expense$paidBy = expense.paidBy) === null || _expense$paidBy === void 0 ? void 0 : _expense$paidBy.name;\n      if (paidByName) {\n        if (!balances[paidByName]) balances[paidByName] = 0;\n        balances[paidByName] += totalAmount - amountPerPerson;\n      }\n      if (expense.splitBetweenUsers) {\n        expense.splitBetweenUsers.forEach(user => {\n          if (!balances[user.name]) balances[user.name] = 0;\n          if (user.name !== paidByName) {\n            balances[user.name] -= amountPerPerson;\n          }\n        });\n      }\n    });\n\n    // Calculate the final balance for current user considering settled items\n    const userName = currentUser.name;\n    const userBalance = balances[userName] || 0;\n    if (userBalance > 0.01) {\n      // User is owed money - check each debtor relationship\n      let adjustedBalance = 0;\n      Object.entries(balances).forEach(([otherUser, otherBalance]) => {\n        if (otherUser !== userName && otherBalance < -0.01) {\n          const settlementKey = `${groupId}-${otherUser}-${userName}`;\n          const amount = Math.min(userBalance, Math.abs(otherBalance));\n          if (!settledItems.includes(settlementKey) && amount > 0.01) {\n            adjustedBalance += amount;\n          }\n        }\n      });\n      return adjustedBalance;\n    } else if (userBalance < -0.01) {\n      // User owes money - check each creditor relationship\n      let adjustedBalance = 0;\n      Object.entries(balances).forEach(([otherUser, otherBalance]) => {\n        if (otherUser !== userName && otherBalance > 0.01) {\n          const settlementKey = `${groupId}-${userName}-${otherUser}`;\n          const amount = Math.min(Math.abs(userBalance), otherBalance);\n          if (!settledItems.includes(settlementKey) && amount > 0.01) {\n            adjustedBalance -= amount;\n          }\n        }\n      });\n      return adjustedBalance;\n    }\n    return 0;\n  };\n  const getGroupTotalExpenses = groupId => {\n    const balance = groupBalances[groupId];\n    return (balance === null || balance === void 0 ? void 0 : balance.totalExpenses) || 0;\n  };\n  const getGroupExpenseCount = groupId => {\n    const expenses = groupExpenses[groupId];\n    return (expenses === null || expenses === void 0 ? void 0 : expenses.length) || 0;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-900\",\n            children: \"Your Groups\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mt-2\",\n            children: \"Manage your expense groups and track balances\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowCreateGroup(true),\n          className: \"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-200 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Create Group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Loading groups...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 11\n      }, this), !loading && groups.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n        children: groups.map(group => {\n          var _group$members, _group$members3;\n          const userBalance = getUserBalance(group.id, currentUser.id);\n          const totalExpenses = getGroupTotalExpenses(group.id);\n          const expenseCount = getGroupExpenseCount(group.id);\n          const isSettled = Math.abs(userBalance) < 0.01;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start justify-between mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-16 h-16 bg-gradient-to-r from-purple-500 to-blue-500 rounded-xl flex items-center justify-center\",\n                    children: /*#__PURE__*/_jsxDEV(Users, {\n                      className: \"w-8 h-8 text-white\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 485,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 484,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-xl font-semibold text-gray-900\",\n                      children: group.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 488,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500 mt-1\",\n                      children: group.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 489,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-4 mt-2 text-sm text-gray-600\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"flex items-center\",\n                        children: [/*#__PURE__*/_jsxDEV(Users, {\n                          className: \"w-4 h-4 mr-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 492,\n                          columnNumber: 31\n                        }, this), ((_group$members = group.members) === null || _group$members === void 0 ? void 0 : _group$members.length) || 0, \" members\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 491,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"flex items-center\",\n                        children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                          className: \"w-4 h-4 mr-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 496,\n                          columnNumber: 31\n                        }, this), group.createdAt ? formatDate(group.createdAt) : 'Recently']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 495,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 490,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      var _group$members2;\n                      setSelectedGroup(group);\n                      setExpenseFormData({\n                        description: '',\n                        amount: '',\n                        paidById: currentUser.id,\n                        splitBetween: ((_group$members2 = group.members) === null || _group$members2 === void 0 ? void 0 : _group$members2.map(m => m.id)) || []\n                      });\n                      setShowAddExpense(true);\n                    },\n                    className: \"text-gray-400 hover:text-green-600 transition-colors p-2 rounded-lg hover:bg-green-50\",\n                    title: \"Add Expense\",\n                    children: /*#__PURE__*/_jsxDEV(Plus, {\n                      className: \"w-5 h-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 517,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 503,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setSelectedGroup(group);\n                      setShowAddMember(true);\n                    },\n                    className: \"text-gray-400 hover:text-blue-600 transition-colors p-2 rounded-lg hover:bg-blue-50\",\n                    title: \"Add Member\",\n                    children: /*#__PURE__*/_jsxDEV(UserPlus, {\n                      className: \"w-5 h-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 527,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 519,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDeleteGroup(group.id),\n                    className: \"text-gray-400 hover:text-red-600 transition-colors p-2 rounded-lg hover:bg-red-50\",\n                    title: \"Delete Group\",\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-5 h-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 534,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-3 gap-4 mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center p-3 bg-blue-50 rounded-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold text-blue-600\",\n                    children: expenseCount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 542,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-blue-600\",\n                    children: \"Expenses\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 541,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center p-3 bg-green-50 rounded-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold text-green-600\",\n                    children: formatCurrency(totalExpenses)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 546,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-green-600\",\n                    children: \"Total Spent\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 547,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center p-3 bg-purple-50 rounded-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `text-2xl font-bold ${isSettled ? 'text-green-600' : userBalance > 0 ? 'text-red-600' : 'text-blue-600'}`,\n                    children: isSettled ? 'Settled' : formatCurrency(Math.abs(userBalance))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 550,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `text-xs ${isSettled ? 'text-green-600' : userBalance > 0 ? 'text-red-600' : 'text-blue-600'}`,\n                    children: isSettled ? 'All Good' : userBalance > 0 ? 'You Owe' : 'You\\'re Owed'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 rounded-lg mb-4 ${isSettled ? 'bg-green-50 border border-green-200' : userBalance > 0 ? 'bg-red-50 border border-red-200' : 'bg-blue-50 border border-blue-200'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-3\",\n                    children: [isSettled ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\",\n                      children: /*#__PURE__*/_jsxDEV(TrendingUp, {\n                        className: \"w-4 h-4 text-green-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 569,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 568,\n                      columnNumber: 29\n                    }, this) : userBalance > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center\",\n                      children: /*#__PURE__*/_jsxDEV(TrendingDown, {\n                        className: \"w-4 h-4 text-red-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 573,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 572,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\",\n                      children: /*#__PURE__*/_jsxDEV(TrendingUp, {\n                        className: \"w-4 h-4 text-blue-600\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 577,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 576,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: `font-medium ${isSettled ? 'text-green-800' : userBalance > 0 ? 'text-red-800' : 'text-blue-800'}`,\n                        children: isSettled ? 'All settled up!' : userBalance > 0 ? `You owe ${formatCurrency(userBalance)}` : `You're owed ${formatCurrency(Math.abs(userBalance))}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 581,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-600\",\n                        children: \"Your balance in this group\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 590,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 580,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 25\n                  }, this), !isSettled && /*#__PURE__*/_jsxDEV(ArrowRight, {\n                    className: \"w-5 h-5 text-gray-400\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 594,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-900 mb-3 flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Users, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 602,\n                    columnNumber: 25\n                  }, this), \"Member Balances\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 601,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2 max-h-32 overflow-y-auto\",\n                  children: (_group$members3 = group.members) === null || _group$members3 === void 0 ? void 0 : _group$members3.map(member => {\n                    const memberBalance = getUserBalance(group.id, member.id);\n                    const memberIsSettled = Math.abs(memberBalance) < 0.01;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg group hover:bg-gray-100 transition-colors\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center space-x-2 flex-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-semibold\",\n                          children: member.name.charAt(0).toUpperCase()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 613,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-sm font-medium text-gray-900\",\n                          children: member.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 616,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 612,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `text-sm font-medium ${memberIsSettled ? 'text-green-600' : memberBalance > 0 ? 'text-red-600' : 'text-blue-600'}`,\n                          children: memberIsSettled ? 'Settled' : memberBalance > 0 ? `Owes ${formatCurrency(memberBalance)}` : `Owed ${formatCurrency(Math.abs(memberBalance))}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 619,\n                          columnNumber: 33\n                        }, this), member.id !== currentUser.id && /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleRemoveMember(group.id, member.id),\n                          className: \"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-600 transition-all p-1 rounded hover:bg-red-50\",\n                          title: \"Remove Member\",\n                          children: /*#__PURE__*/_jsxDEV(X, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 634,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 629,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 618,\n                        columnNumber: 31\n                      }, this)]\n                    }, member.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 611,\n                      columnNumber: 29\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 21\n              }, this), groupExpenses[group.id] && groupExpenses[group.id].length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-900 mb-3 flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 648,\n                    columnNumber: 27\n                  }, this), \"Recent Expenses\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 647,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2\",\n                  children: [groupExpenses[group.id].slice(0, 3).map(expense => {\n                    var _expense$paidBy2;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm font-medium text-gray-900\",\n                          children: expense.description\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 655,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-gray-500\",\n                          children: [\"Paid by \", (_expense$paidBy2 = expense.paidBy) === null || _expense$paidBy2 === void 0 ? void 0 : _expense$paidBy2.name, \" \\u2022 \", formatDate(expense.createdAt)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 656,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 654,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-right\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm font-semibold text-gray-900\",\n                          children: formatCurrency(expense.amount)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 661,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-gray-500\",\n                          children: [\"Your share: \", formatCurrency(expense.amountPerPerson)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 662,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 660,\n                        columnNumber: 31\n                      }, this)]\n                    }, expense.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 653,\n                      columnNumber: 29\n                    }, this);\n                  }), groupExpenses[group.id].length > 3 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 text-center py-2\",\n                    children: [\"+\", groupExpenses[group.id].length - 3, \" more expenses\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 669,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 646,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 19\n            }, this)\n          }, group.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 11\n      }, this) : !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-16\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6\",\n          children: /*#__PURE__*/_jsxDEV(Users, {\n            className: \"w-12 h-12 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900 mb-2\",\n          children: \"No groups yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 686,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: \"Create your first group to start splitting expenses with friends\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowCreateGroup(true),\n          className: \"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-lg hover:shadow-xl\",\n          children: \"Create Your First Group\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 11\n      }, this), loadingBalances && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed bottom-4 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm\",\n            children: \"Loading balances...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 11\n      }, this), showCreateGroup && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-gray-900 mb-6\",\n              children: \"Create New Group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleCreateGroup,\n              className: \"space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Group Name *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 716,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: formData.name,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    name: e.target.value\n                  })),\n                  className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                  placeholder: \"e.g., Roommates, Vacation Trip\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 719,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 715,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 730,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: formData.description,\n                  onChange: e => setFormData(prev => ({\n                    ...prev,\n                    description: e.target.value\n                  })),\n                  className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                  placeholder: \"What's this group for?\",\n                  rows: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 733,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 729,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Invite Members (optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 743,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 mb-2\",\n                  children: \"Search for users by name or email. They will receive an invitation to join.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 746,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: searchQuery,\n                  onChange: e => setSearchQuery(e.target.value),\n                  className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-2\",\n                  placeholder: \"Search users by name or email...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 750,\n                  columnNumber: 21\n                }, this), searchQuery.length >= 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-2 mb-2\",\n                  children: isSearching ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center py-4 text-gray-500 text-sm\",\n                    children: \"Searching...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 762,\n                    columnNumber: 27\n                  }, this) : searchResults.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center py-4 text-gray-500 text-sm\",\n                    children: \"No users found\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 764,\n                    columnNumber: 27\n                  }, this) : searchResults.map(user => /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => handleMemberToggle(user.id),\n                    className: \"w-full flex items-center space-x-3 py-2 px-2 hover:bg-gray-50 rounded cursor-pointer\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-semibold\",\n                      children: user.name.charAt(0).toUpperCase()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 773,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1 text-left\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm font-medium text-gray-900\",\n                        children: user.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 777,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: user.email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 778,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 776,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(Plus, {\n                      className: \"w-4 h-4 text-blue-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 780,\n                      columnNumber: 31\n                    }, this)]\n                  }, user.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 767,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 760,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 mt-2\",\n                  children: [formData.memberIds.length, \" user(s) will receive invitation(s)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 787,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 742,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-3 pt-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  disabled: loading,\n                  className: \"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-4 rounded-lg hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 font-medium transition-all duration-200\",\n                  children: loading ? 'Creating...' : 'Create Group'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 793,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => {\n                    setShowCreateGroup(false);\n                    setFormData({\n                      name: '',\n                      description: '',\n                      memberIds: []\n                    });\n                  },\n                  disabled: loading,\n                  className: \"flex-1 bg-gray-500 text-white py-3 px-4 rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 font-medium transition-colors\",\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 800,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 792,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 709,\n        columnNumber: 11\n      }, this), showAddMember && selectedGroup && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-900 mb-4\",\n            children: [\"Invite Member to \", selectedGroup.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 822,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mb-4\",\n            children: \"Search for a user to send them a group invitation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 823,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: addMemberSearchQuery,\n            onChange: e => setAddMemberSearchQuery(e.target.value),\n            className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4\",\n            placeholder: \"Search users by name or email...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 827,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-h-60 overflow-y-auto mb-4\",\n            children: addMemberSearchQuery.length < 4 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-sm text-center py-4\",\n              children: \"Type at least 4 characters to search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 837,\n              columnNumber: 19\n            }, this) : addMemberSearchResults.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-sm text-center py-4\",\n              children: \"No users found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 19\n            }, this) : addMemberSearchResults.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg mb-2 hover:bg-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-semibold\",\n                  children: user.name.charAt(0).toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 848,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-medium text-gray-900\",\n                    children: user.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 852,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500\",\n                    children: user.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 853,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 851,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 847,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleAddMember(user.id),\n                className: \"bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 hover:from-green-600 hover:to-green-700\",\n                children: \"Invite\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 856,\n                columnNumber: 23\n              }, this)]\n            }, user.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 835,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowAddMember(false);\n                setAddMemberSearchQuery('');\n                setAddMemberSearchResults([]);\n              },\n              className: \"flex-1 bg-gray-300 text-gray-800 py-3 px-4 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 868,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 867,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 820,\n        columnNumber: 11\n      }, this), showAddExpense && selectedGroup && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-900 mb-4\",\n            children: [\"Add Expense to \", selectedGroup.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 887,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleCreateExpense,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Description *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 891,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                required: true,\n                value: expenseFormData.description,\n                onChange: e => setExpenseFormData({\n                  ...expenseFormData,\n                  description: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\",\n                placeholder: \"e.g., Dinner at restaurant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 894,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Amount (\\u20B9) *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 905,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                min: \"0.01\",\n                required: true,\n                value: expenseFormData.amount,\n                onChange: e => setExpenseFormData({\n                  ...expenseFormData,\n                  amount: e.target.value\n                }),\n                className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\",\n                placeholder: \"0.00\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 908,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 904,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Paid By *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 921,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                required: true,\n                value: expenseFormData.paidById,\n                onChange: e => setExpenseFormData({\n                  ...expenseFormData,\n                  paidById: parseInt(e.target.value)\n                }),\n                className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select who paid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 930,\n                  columnNumber: 21\n                }, this), (_selectedGroup$member2 = selectedGroup.members) === null || _selectedGroup$member2 === void 0 ? void 0 : _selectedGroup$member2.map(member => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: member.id,\n                  children: member.name\n                }, member.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 932,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 924,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Split Between * (Select at least one)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 940,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"max-h-40 overflow-y-auto space-y-2 border border-gray-300 rounded-lg p-3\",\n                children: (_selectedGroup$member3 = selectedGroup.members) === null || _selectedGroup$member3 === void 0 ? void 0 : _selectedGroup$member3.map(member => /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded cursor-pointer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: expenseFormData.splitBetween.includes(member.id),\n                    onChange: () => handleExpenseSplitToggle(member.id),\n                    className: \"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 946,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2 flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-6 h-6 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-semibold\",\n                      children: member.name.charAt(0).toUpperCase()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 953,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-900\",\n                      children: member.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 956,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 952,\n                    columnNumber: 25\n                  }, this)]\n                }, member.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 945,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 943,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mt-2\",\n                children: expenseFormData.splitBetween.length > 0 ? `Split among ${expenseFormData.splitBetween.length} member(s): ₹${expenseFormData.amount ? (parseFloat(expenseFormData.amount) / expenseFormData.splitBetween.length).toFixed(2) : '0.00'} per person` : 'Select members to split this expense'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 961,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 939,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-3 pt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  setShowAddExpense(false);\n                  setExpenseFormData({\n                    description: '',\n                    amount: '',\n                    paidById: '',\n                    splitBetween: []\n                  });\n                },\n                className: \"flex-1 bg-gray-300 text-gray-800 py-3 px-4 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200\",\n                disabled: loading,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 969,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-4 rounded-lg hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-all duration-200 disabled:opacity-50\",\n                disabled: loading,\n                children: loading ? 'Creating...' : 'Create Expense'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 985,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 968,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 889,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 886,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 885,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 444,\n    columnNumber: 5\n  }, this);\n};\n_s(Groups, \"ya6FnMOSCqZ6gNySkZE+up0b4Cc=\");\n_c = Groups;\nexport default Groups;\nvar _c;\n$RefreshReg$(_c, \"Groups\");","map":{"version":3,"names":["React","useState","useEffect","Users","Plus","UserPlus","Settings","DollarSign","Calendar","TrendingUp","TrendingDown","ArrowRight","Trash2","X","jsxDEV","_jsxDEV","Groups","currentUser","_s","_selectedGroup$member2","_selectedGroup$member3","groups","setGroups","showCreateGroup","setShowCreateGroup","selectedGroup","setSelectedGroup","showAddMember","setShowAddMember","showAddExpense","setShowAddExpense","groupBalances","setGroupBalances","groupExpenses","setGroupExpenses","loading","setLoading","loadingBalances","setLoadingBalances","formData","setFormData","name","description","memberIds","expenseFormData","setExpenseFormData","amount","paidById","splitBetween","searchQuery","setSearchQuery","searchResults","setSearchResults","isSearching","setIsSearching","addMemberSearchQuery","setAddMemberSearchQuery","addMemberSearchResults","setAddMemberSearchResults","API_BASE","fetchGroups","length","loadGroupBalancesAndExpenses","response","fetch","id","ok","groupsData","json","error","console","searchUsers","query","trim","encodeURIComponent","usersData","filtered","filter","user","includes","searchUsersForAddMember","_selectedGroup$member","members","map","m","timer","setTimeout","clearTimeout","balances","expenses","group","balanceResponse","balanceData","expenseResponse","expenseData","handleCreateGroup","e","preventDefault","groupData","method","headers","body","JSON","stringify","newGroup","Promise","all","memberId","alert","prev","log","errorText","text","handleMemberToggle","userId","handleAddMember","handleDeleteGroup","groupId","window","confirm","handleRemoveMember","updatedGroup","handleCreateExpense","parseFloat","handleExpenseSplitToggle","formatDate","dateString","Date","toLocaleDateString","month","day","year","formatCurrency","Intl","NumberFormat","style","currency","format","getUserBalance","settledItems","saved","localStorage","getItem","parse","forEach","expense","_expense$splitBetween","_expense$paidBy","totalAmount","splitCount","splitBetweenUsers","amountPerPerson","paidByName","paidBy","userName","userBalance","adjustedBalance","Object","entries","otherUser","otherBalance","settlementKey","Math","min","abs","getGroupTotalExpenses","balance","totalExpenses","getGroupExpenseCount","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_group$members","_group$members3","expenseCount","isSettled","createdAt","_group$members2","title","member","memberBalance","memberIsSettled","charAt","toUpperCase","slice","_expense$paidBy2","onSubmit","type","value","onChange","target","placeholder","required","rows","email","disabled","step","parseInt","checked","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/sreer/OneDrive/Documents/VSCODE/settlr/frontend/src/components/Groups.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Users, Plus, UserPlus, Settings, DollarSign, Calendar, TrendingUp, TrendingDown, ArrowRight, Trash2, X } from 'lucide-react';\r\n\r\nconst Groups = ({ currentUser }) => {\r\n  const [groups, setGroups] = useState([]);\r\n  const [showCreateGroup, setShowCreateGroup] = useState(false);\r\n  const [selectedGroup, setSelectedGroup] = useState(null);\r\n  const [showAddMember, setShowAddMember] = useState(false);\r\n  const [showAddExpense, setShowAddExpense] = useState(false);\r\n  const [groupBalances, setGroupBalances] = useState({});\r\n  const [groupExpenses, setGroupExpenses] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingBalances, setLoadingBalances] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    memberIds: []\r\n  });\r\n  const [expenseFormData, setExpenseFormData] = useState({\r\n    description: '',\r\n    amount: '',\r\n    paidById: '',\r\n    splitBetween: []\r\n  });\r\n  \r\n  // Search-related state\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [addMemberSearchQuery, setAddMemberSearchQuery] = useState('');\r\n  const [addMemberSearchResults, setAddMemberSearchResults] = useState([]);\r\n\r\n  const API_BASE = 'http://localhost:8080/api';\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      fetchGroups();\r\n    }\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    if (groups.length > 0) {\r\n      loadGroupBalancesAndExpenses();\r\n    }\r\n  }, [groups]);\r\n\r\n  const fetchGroups = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(`${API_BASE}/groups/user/${currentUser.id}`);\r\n      if (response.ok) {\r\n        const groupsData = await response.json();\r\n        setGroups(groupsData);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching groups:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const searchUsers = async (query) => {\r\n    if (!query || query.trim().length < 4) {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsSearching(true);\r\n      const response = await fetch(`${API_BASE}/users/search?name=${encodeURIComponent(query)}`);\r\n      if (response.ok) {\r\n        const usersData = await response.json();\r\n        // Filter out current user and already selected members\r\n        const filtered = usersData.filter(user => \r\n          user.id !== currentUser.id && !formData.memberIds.includes(user.id)\r\n        );\r\n        setSearchResults(filtered);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error searching users:', error);\r\n    } finally {\r\n      setIsSearching(false);\r\n    }\r\n  };\r\n\r\n  const searchUsersForAddMember = async (query) => {\r\n    if (!query || query.trim().length < 4) {\r\n      setAddMemberSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE}/users/search?name=${encodeURIComponent(query)}`);\r\n      if (response.ok) {\r\n        const usersData = await response.json();\r\n        // Filter out current group members\r\n        const memberIds = selectedGroup.members?.map(m => m.id) || [];\r\n        const filtered = usersData.filter(user => !memberIds.includes(user.id));\r\n        setAddMemberSearchResults(filtered);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error searching users:', error);\r\n    }\r\n  };\r\n\r\n  // Debounce search\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      searchUsers(searchQuery);\r\n    }, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [searchQuery]);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      searchUsersForAddMember(addMemberSearchQuery);\r\n    }, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [addMemberSearchQuery]);\r\n\r\n  const loadGroupBalancesAndExpenses = async () => {\r\n    if (loadingBalances) return;\r\n\r\n    setLoadingBalances(true);\r\n    const balances = {};\r\n    const expenses = {};\r\n\r\n    for (const group of groups) {\r\n      try {\r\n        // Fetch group balances\r\n        const balanceResponse = await fetch(`${API_BASE}/expenses/group/${group.id}/balances`);\r\n        if (balanceResponse.ok) {\r\n          const balanceData = await balanceResponse.json();\r\n          balances[group.id] = balanceData;\r\n        }\r\n\r\n        // Fetch group expenses\r\n        const expenseResponse = await fetch(`${API_BASE}/expenses/group/${group.id}`);\r\n        if (expenseResponse.ok) {\r\n          const expenseData = await expenseResponse.json();\r\n          expenses[group.id] = expenseData;\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading data for group:', group.id, error);\r\n      }\r\n    }\r\n\r\n    setGroupBalances(balances);\r\n    setGroupExpenses(expenses);\r\n    setLoadingBalances(false);\r\n  };\r\n\r\n  const handleCreateGroup = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setLoading(true);\r\n\r\n      // Create group with only current user as member\r\n      const groupData = {\r\n        name: formData.name,\r\n        description: formData.description,\r\n        memberIds: [currentUser.id] // Only add creator initially\r\n      };\r\n\r\n      const response = await fetch(`${API_BASE}/groups?createdByUserId=${currentUser.id}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(groupData),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const newGroup = await response.json();\r\n        \r\n        // Send invitations to selected members\r\n        if (formData.memberIds.length > 0) {\r\n          await Promise.all(\r\n            formData.memberIds.map(memberId =>\r\n              fetch(`${API_BASE}/invitations/send?groupId=${newGroup.id}&inviterId=${currentUser.id}&inviteeId=${memberId}`, {\r\n                method: 'POST'\r\n              })\r\n            )\r\n          );\r\n          alert(`Group created! Invitations sent to ${formData.memberIds.length} user(s).`);\r\n        }\r\n\r\n        setGroups(prev => [...prev, newGroup]);\r\n        setFormData({ name: '', description: '', memberIds: [] });\r\n        setSearchQuery('');\r\n        setSearchResults([]);\r\n        setShowCreateGroup(false);\r\n        console.log('Group created successfully:', newGroup);\r\n      } else {\r\n        const errorText = await response.text();\r\n        console.error('Failed to create group:', errorText);\r\n        alert('Failed to create group. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to create group:', error);\r\n      alert('Failed to create group. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleMemberToggle = (userId) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      memberIds: prev.memberIds.includes(userId)\r\n        ? prev.memberIds.filter(id => id !== userId)\r\n        : [...prev.memberIds, userId]\r\n    }));\r\n    // Clear search after adding\r\n    if (!formData.memberIds.includes(userId)) {\r\n      setSearchQuery('');\r\n      setSearchResults([]);\r\n    }\r\n  };\r\n\r\n  const handleAddMember = async (userId) => {\r\n    try {\r\n      // Send invitation instead of directly adding\r\n      const response = await fetch(`${API_BASE}/invitations/send?groupId=${selectedGroup.id}&inviterId=${currentUser.id}&inviteeId=${userId}`, {\r\n        method: 'POST'\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('Invitation sent successfully!');\r\n        setShowAddMember(false);\r\n        setAddMemberSearchQuery('');\r\n        setAddMemberSearchResults([]);\r\n        console.log('Invitation sent successfully');\r\n      } else {\r\n        console.error('Failed to send invitation');\r\n        alert('Failed to send invitation. User may already have a pending invitation.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to send invitation:', error);\r\n      alert('Failed to send invitation. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleDeleteGroup = async (groupId) => {\r\n    if (!window.confirm('Are you sure you want to delete this group? This action cannot be undone.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE}/groups/${groupId}`, {\r\n        method: 'DELETE'\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('Group deleted successfully!');\r\n        fetchGroups(); // Refresh the groups list\r\n      } else {\r\n        alert('Failed to delete group. You may not have permission.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting group:', error);\r\n      alert('Failed to delete group. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleRemoveMember = async (groupId, userId) => {\r\n    if (!window.confirm('Are you sure you want to remove this member from the group?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE}/groups/${groupId}/members/${userId}`, {\r\n        method: 'DELETE'\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('Member removed successfully!');\r\n        fetchGroups(); // Refresh the groups list\r\n        if (selectedGroup && selectedGroup.id === groupId) {\r\n          // Update selectedGroup if we're viewing this group\r\n          const updatedGroup = await response.json();\r\n          setSelectedGroup(updatedGroup);\r\n        }\r\n      } else {\r\n        alert('Failed to remove member. You may not have permission.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error removing member:', error);\r\n      alert('Failed to remove member. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleCreateExpense = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!expenseFormData.description || !expenseFormData.amount || !expenseFormData.paidById) {\r\n      alert('Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    if (expenseFormData.splitBetween.length === 0) {\r\n      alert('Please select at least one person to split the expense with');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(`${API_BASE}/expenses`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          description: expenseFormData.description,\r\n          amount: parseFloat(expenseFormData.amount),\r\n          paidById: expenseFormData.paidById,\r\n          groupId: selectedGroup.id,\r\n          splitBetween: expenseFormData.splitBetween\r\n        })\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('Expense created successfully!');\r\n        setShowAddExpense(false);\r\n        setExpenseFormData({\r\n          description: '',\r\n          amount: '',\r\n          paidById: '',\r\n          splitBetween: []\r\n        });\r\n        fetchGroups(); // Refresh to update balances\r\n      } else {\r\n        alert('Failed to create expense');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating expense:', error);\r\n      alert('Failed to create expense. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleExpenseSplitToggle = (userId) => {\r\n    setExpenseFormData(prev => ({\r\n      ...prev,\r\n      splitBetween: prev.splitBetween.includes(userId)\r\n        ? prev.splitBetween.filter(id => id !== userId)\r\n        : [...prev.splitBetween, userId]\r\n    }));\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR'\r\n    }).format(amount || 0);\r\n  };\r\n\r\n  const getUserBalance = (groupId, userId) => {\r\n    // Load settled items from localStorage\r\n    const settledItems = (() => {\r\n      const saved = localStorage.getItem('settledItems');\r\n      return saved ? JSON.parse(saved) : [];\r\n    })();\r\n\r\n    // Calculate balance from expenses (same logic as Dashboard)\r\n    const expenses = groupExpenses[groupId] || [];\r\n    const balances = {};\r\n\r\n    // Calculate net balances\r\n    expenses.forEach(expense => {\r\n      const totalAmount = expense.amount;\r\n      const splitCount = expense.splitBetweenUsers?.length || 1;\r\n      const amountPerPerson = totalAmount / splitCount;\r\n\r\n      const paidByName = expense.paidBy?.name;\r\n      if (paidByName) {\r\n        if (!balances[paidByName]) balances[paidByName] = 0;\r\n        balances[paidByName] += totalAmount - amountPerPerson;\r\n      }\r\n\r\n      if (expense.splitBetweenUsers) {\r\n        expense.splitBetweenUsers.forEach(user => {\r\n          if (!balances[user.name]) balances[user.name] = 0;\r\n          if (user.name !== paidByName) {\r\n            balances[user.name] -= amountPerPerson;\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    // Calculate the final balance for current user considering settled items\r\n    const userName = currentUser.name;\r\n    const userBalance = balances[userName] || 0;\r\n\r\n    if (userBalance > 0.01) {\r\n      // User is owed money - check each debtor relationship\r\n      let adjustedBalance = 0;\r\n      Object.entries(balances).forEach(([otherUser, otherBalance]) => {\r\n        if (otherUser !== userName && otherBalance < -0.01) {\r\n          const settlementKey = `${groupId}-${otherUser}-${userName}`;\r\n          const amount = Math.min(userBalance, Math.abs(otherBalance));\r\n          if (!settledItems.includes(settlementKey) && amount > 0.01) {\r\n            adjustedBalance += amount;\r\n          }\r\n        }\r\n      });\r\n      return adjustedBalance;\r\n    } else if (userBalance < -0.01) {\r\n      // User owes money - check each creditor relationship\r\n      let adjustedBalance = 0;\r\n      Object.entries(balances).forEach(([otherUser, otherBalance]) => {\r\n        if (otherUser !== userName && otherBalance > 0.01) {\r\n          const settlementKey = `${groupId}-${userName}-${otherUser}`;\r\n          const amount = Math.min(Math.abs(userBalance), otherBalance);\r\n          if (!settledItems.includes(settlementKey) && amount > 0.01) {\r\n            adjustedBalance -= amount;\r\n          }\r\n        }\r\n      });\r\n      return adjustedBalance;\r\n    }\r\n\r\n    return 0;\r\n  };\r\n\r\n  const getGroupTotalExpenses = (groupId) => {\r\n    const balance = groupBalances[groupId];\r\n    return balance?.totalExpenses || 0;\r\n  };\r\n\r\n  const getGroupExpenseCount = (groupId) => {\r\n    const expenses = groupExpenses[groupId];\r\n    return expenses?.length || 0;\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-6\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-8\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">Your Groups</h1>\r\n            <p className=\"text-gray-600 mt-2\">Manage your expense groups and track balances</p>\r\n          </div>\r\n          <button\r\n            onClick={() => setShowCreateGroup(true)}\r\n            className=\"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-200 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105\"\r\n          >\r\n            <Plus className=\"w-5 h-5\" />\r\n            <span>Create Group</span>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Loading State */}\r\n        {loading && (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\r\n            <p className=\"text-gray-600\">Loading groups...</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Groups Grid */}\r\n        {!loading && groups.length > 0 ? (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {groups.map((group) => {\r\n              const userBalance = getUserBalance(group.id, currentUser.id);\r\n              const totalExpenses = getGroupTotalExpenses(group.id);\r\n              const expenseCount = getGroupExpenseCount(group.id);\r\n              const isSettled = Math.abs(userBalance) < 0.01;\r\n\r\n              return (\r\n                <div key={group.id} className=\"bg-white rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300\">\r\n                  <div className=\"p-6\">\r\n                    {/* Group Header */}\r\n                    <div className=\"flex items-start justify-between mb-6\">\r\n                      <div className=\"flex items-center space-x-4\">\r\n                        <div className=\"w-16 h-16 bg-gradient-to-r from-purple-500 to-blue-500 rounded-xl flex items-center justify-center\">\r\n                          <Users className=\"w-8 h-8 text-white\" />\r\n                        </div>\r\n                        <div>\r\n                          <h3 className=\"text-xl font-semibold text-gray-900\">{group.name}</h3>\r\n                          <p className=\"text-sm text-gray-500 mt-1\">{group.description}</p>\r\n                          <div className=\"flex items-center space-x-4 mt-2 text-sm text-gray-600\">\r\n                            <span className=\"flex items-center\">\r\n                              <Users className=\"w-4 h-4 mr-1\" />\r\n                              {group.members?.length || 0} members\r\n                            </span>\r\n                            <span className=\"flex items-center\">\r\n                              <Calendar className=\"w-4 h-4 mr-1\" />\r\n                              {group.createdAt ? formatDate(group.createdAt) : 'Recently'}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <button\r\n                          onClick={() => {\r\n                            setSelectedGroup(group);\r\n                            setExpenseFormData({\r\n                              description: '',\r\n                              amount: '',\r\n                              paidById: currentUser.id,\r\n                              splitBetween: group.members?.map(m => m.id) || []\r\n                            });\r\n                            setShowAddExpense(true);\r\n                          }}\r\n                          className=\"text-gray-400 hover:text-green-600 transition-colors p-2 rounded-lg hover:bg-green-50\"\r\n                          title=\"Add Expense\"\r\n                        >\r\n                          <Plus className=\"w-5 h-5\" />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => {\r\n                            setSelectedGroup(group);\r\n                            setShowAddMember(true);\r\n                          }}\r\n                          className=\"text-gray-400 hover:text-blue-600 transition-colors p-2 rounded-lg hover:bg-blue-50\"\r\n                          title=\"Add Member\"\r\n                        >\r\n                          <UserPlus className=\"w-5 h-5\" />\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDeleteGroup(group.id)}\r\n                          className=\"text-gray-400 hover:text-red-600 transition-colors p-2 rounded-lg hover:bg-red-50\"\r\n                          title=\"Delete Group\"\r\n                        >\r\n                          <Trash2 className=\"w-5 h-5\" />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Group Statistics */}\r\n                    <div className=\"grid grid-cols-3 gap-4 mb-6\">\r\n                      <div className=\"text-center p-3 bg-blue-50 rounded-lg\">\r\n                        <div className=\"text-2xl font-bold text-blue-600\">{expenseCount}</div>\r\n                        <div className=\"text-xs text-blue-600\">Expenses</div>\r\n                      </div>\r\n                      <div className=\"text-center p-3 bg-green-50 rounded-lg\">\r\n                        <div className=\"text-2xl font-bold text-green-600\">{formatCurrency(totalExpenses)}</div>\r\n                        <div className=\"text-xs text-green-600\">Total Spent</div>\r\n                      </div>\r\n                      <div className=\"text-center p-3 bg-purple-50 rounded-lg\">\r\n                        <div className={`text-2xl font-bold ${isSettled ? 'text-green-600' : userBalance > 0 ? 'text-red-600' : 'text-blue-600'}`}>\r\n                          {isSettled ? 'Settled' : formatCurrency(Math.abs(userBalance))}\r\n                        </div>\r\n                        <div className={`text-xs ${isSettled ? 'text-green-600' : userBalance > 0 ? 'text-red-600' : 'text-blue-600'}`}>\r\n                          {isSettled ? 'All Good' : userBalance > 0 ? 'You Owe' : 'You\\'re Owed'}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Your Balance Status */}\r\n                    <div className={`p-4 rounded-lg mb-4 ${\r\n                      isSettled ? 'bg-green-50 border border-green-200' :\r\n                      userBalance > 0 ? 'bg-red-50 border border-red-200' :\r\n                      'bg-blue-50 border border-blue-200'\r\n                    }`}>\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-3\">\r\n                          {isSettled ? (\r\n                            <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\r\n                              <TrendingUp className=\"w-4 h-4 text-green-600\" />\r\n                            </div>\r\n                          ) : userBalance > 0 ? (\r\n                            <div className=\"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center\">\r\n                              <TrendingDown className=\"w-4 h-4 text-red-600\" />\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                              <TrendingUp className=\"w-4 h-4 text-blue-600\" />\r\n                            </div>\r\n                          )}\r\n                          <div>\r\n                            <p className={`font-medium ${\r\n                              isSettled ? 'text-green-800' :\r\n                              userBalance > 0 ? 'text-red-800' :\r\n                              'text-blue-800'\r\n                            }`}>\r\n                              {isSettled ? 'All settled up!' :\r\n                               userBalance > 0 ? `You owe ${formatCurrency(userBalance)}` :\r\n                               `You're owed ${formatCurrency(Math.abs(userBalance))}`}\r\n                            </p>\r\n                            <p className=\"text-xs text-gray-600\">Your balance in this group</p>\r\n                          </div>\r\n                        </div>\r\n                        {!isSettled && (\r\n                          <ArrowRight className=\"w-5 h-5 text-gray-400\" />\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Member Balances Summary */}\r\n                    <div className=\"mb-4\">\r\n                      <h4 className=\"font-medium text-gray-900 mb-3 flex items-center\">\r\n                        <Users className=\"w-4 h-4 mr-2\" />\r\n                        Member Balances\r\n                      </h4>\r\n                      <div className=\"space-y-2 max-h-32 overflow-y-auto\">\r\n                        {group.members?.map(member => {\r\n                          const memberBalance = getUserBalance(group.id, member.id);\r\n                          const memberIsSettled = Math.abs(memberBalance) < 0.01;\r\n\r\n                          return (\r\n                            <div key={member.id} className=\"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg group hover:bg-gray-100 transition-colors\">\r\n                              <div className=\"flex items-center space-x-2 flex-1\">\r\n                                <div className=\"w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-semibold\">\r\n                                  {member.name.charAt(0).toUpperCase()}\r\n                                </div>\r\n                                <span className=\"text-sm font-medium text-gray-900\">{member.name}</span>\r\n                              </div>\r\n                              <div className=\"flex items-center space-x-2\">\r\n                                <span className={`text-sm font-medium ${\r\n                                  memberIsSettled ? 'text-green-600' :\r\n                                  memberBalance > 0 ? 'text-red-600' :\r\n                                  'text-blue-600'\r\n                                }`}>\r\n                                  {memberIsSettled ? 'Settled' :\r\n                                   memberBalance > 0 ? `Owes ${formatCurrency(memberBalance)}` :\r\n                                   `Owed ${formatCurrency(Math.abs(memberBalance))}`}\r\n                                </span>\r\n                                {member.id !== currentUser.id && (\r\n                                  <button\r\n                                    onClick={() => handleRemoveMember(group.id, member.id)}\r\n                                    className=\"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-600 transition-all p-1 rounded hover:bg-red-50\"\r\n                                    title=\"Remove Member\"\r\n                                  >\r\n                                    <X className=\"w-4 h-4\" />\r\n                                  </button>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Recent Expenses Preview */}\r\n                    {groupExpenses[group.id] && groupExpenses[group.id].length > 0 && (\r\n                      <div>\r\n                        <h4 className=\"font-medium text-gray-900 mb-3 flex items-center\">\r\n                          <DollarSign className=\"w-4 h-4 mr-2\" />\r\n                          Recent Expenses\r\n                        </h4>\r\n                        <div className=\"space-y-2\">\r\n                          {groupExpenses[group.id].slice(0, 3).map(expense => (\r\n                            <div key={expense.id} className=\"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg\">\r\n                              <div>\r\n                                <p className=\"text-sm font-medium text-gray-900\">{expense.description}</p>\r\n                                <p className=\"text-xs text-gray-500\">\r\n                                  Paid by {expense.paidBy?.name} • {formatDate(expense.createdAt)}\r\n                                </p>\r\n                              </div>\r\n                              <div className=\"text-right\">\r\n                                <p className=\"text-sm font-semibold text-gray-900\">{formatCurrency(expense.amount)}</p>\r\n                                <p className=\"text-xs text-gray-500\">\r\n                                  Your share: {formatCurrency(expense.amountPerPerson)}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          ))}\r\n                          {groupExpenses[group.id].length > 3 && (\r\n                            <p className=\"text-xs text-gray-500 text-center py-2\">\r\n                              +{groupExpenses[group.id].length - 3} more expenses\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        ) : !loading && (\r\n          <div className=\"text-center py-16\">\r\n            <div className=\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n              <Users className=\"w-12 h-12 text-gray-400\" />\r\n            </div>\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No groups yet</h3>\r\n            <p className=\"text-gray-600 mb-6\">Create your first group to start splitting expenses with friends</p>\r\n            <button\r\n              onClick={() => setShowCreateGroup(true)}\r\n              className=\"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-lg hover:shadow-xl\"\r\n            >\r\n              Create Your First Group\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Loading Balances Indicator */}\r\n        {loadingBalances && !loading && (\r\n          <div className=\"fixed bottom-4 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n              <span className=\"text-sm\">Loading balances...</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Create Group Modal */}\r\n        {showCreateGroup && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\r\n              <div className=\"p-6\">\r\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Create New Group</h2>\r\n\r\n                <form onSubmit={handleCreateGroup} className=\"space-y-6\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Group Name *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={formData.name}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\r\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                      placeholder=\"e.g., Roommates, Vacation Trip\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Description\r\n                    </label>\r\n                    <textarea\r\n                      value={formData.description}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                      placeholder=\"What's this group for?\"\r\n                      rows=\"3\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Invite Members (optional)\r\n                    </label>\r\n                    <p className=\"text-xs text-gray-500 mb-2\">\r\n                      Search for users by name or email. They will receive an invitation to join.\r\n                    </p>\r\n                    \r\n                    <input\r\n                      type=\"text\"\r\n                      value={searchQuery}\r\n                      onChange={(e) => setSearchQuery(e.target.value)}\r\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-2\"\r\n                      placeholder=\"Search users by name or email...\"\r\n                    />\r\n\r\n                    {/* Search Results */}\r\n                    {searchQuery.length >= 2 && (\r\n                      <div className=\"max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-2 mb-2\">\r\n                        {isSearching ? (\r\n                          <div className=\"text-center py-4 text-gray-500 text-sm\">Searching...</div>\r\n                        ) : searchResults.length === 0 ? (\r\n                          <div className=\"text-center py-4 text-gray-500 text-sm\">No users found</div>\r\n                        ) : (\r\n                          searchResults.map(user => (\r\n                            <button\r\n                              key={user.id}\r\n                              type=\"button\"\r\n                              onClick={() => handleMemberToggle(user.id)}\r\n                              className=\"w-full flex items-center space-x-3 py-2 px-2 hover:bg-gray-50 rounded cursor-pointer\"\r\n                            >\r\n                              <div className=\"w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-semibold\">\r\n                                {user.name.charAt(0).toUpperCase()}\r\n                              </div>\r\n                              <div className=\"flex-1 text-left\">\r\n                                <p className=\"text-sm font-medium text-gray-900\">{user.name}</p>\r\n                                <p className=\"text-xs text-gray-500\">{user.email}</p>\r\n                              </div>\r\n                              <Plus className=\"w-4 h-4 text-blue-500\" />\r\n                            </button>\r\n                          ))\r\n                        )}\r\n                      </div>\r\n                    )}\r\n\r\n                    <p className=\"text-xs text-gray-500 mt-2\">\r\n                      {formData.memberIds.length} user(s) will receive invitation(s)\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div className=\"flex space-x-3 pt-4\">\r\n                    <button\r\n                      type=\"submit\"\r\n                      disabled={loading}\r\n                      className=\"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-4 rounded-lg hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 font-medium transition-all duration-200\"\r\n                    >\r\n                      {loading ? 'Creating...' : 'Create Group'}\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        setShowCreateGroup(false);\r\n                        setFormData({ name: '', description: '', memberIds: [] });\r\n                      }}\r\n                      disabled={loading}\r\n                      className=\"flex-1 bg-gray-500 text-white py-3 px-4 rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 font-medium transition-colors\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Add Member Modal */}\r\n        {showAddMember && selectedGroup && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6\">\r\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Invite Member to {selectedGroup.name}</h2>\r\n              <p className=\"text-sm text-gray-600 mb-4\">\r\n                Search for a user to send them a group invitation\r\n              </p>\r\n\r\n              <input\r\n                type=\"text\"\r\n                value={addMemberSearchQuery}\r\n                onChange={(e) => setAddMemberSearchQuery(e.target.value)}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4\"\r\n                placeholder=\"Search users by name or email...\"\r\n              />\r\n\r\n              <div className=\"max-h-60 overflow-y-auto mb-4\">\r\n                {addMemberSearchQuery.length < 4 ? (\r\n                  <p className=\"text-gray-500 text-sm text-center py-4\">\r\n                    Type at least 4 characters to search\r\n                  </p>\r\n                ) : addMemberSearchResults.length === 0 ? (\r\n                  <p className=\"text-gray-500 text-sm text-center py-4\">\r\n                    No users found\r\n                  </p>\r\n                ) : (\r\n                  addMemberSearchResults.map(user => (\r\n                    <div key={user.id} className=\"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg mb-2 hover:bg-gray-100\">\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <div className=\"w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-semibold\">\r\n                          {user.name.charAt(0).toUpperCase()}\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"text-sm font-medium text-gray-900\">{user.name}</p>\r\n                          <p className=\"text-xs text-gray-500\">{user.email}</p>\r\n                        </div>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => handleAddMember(user.id)}\r\n                        className=\"bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 hover:from-green-600 hover:to-green-700\"\r\n                      >\r\n                        Invite\r\n                      </button>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"flex justify-end space-x-3\">\r\n                <button\r\n                  onClick={() => {\r\n                    setShowAddMember(false);\r\n                    setAddMemberSearchQuery('');\r\n                    setAddMemberSearchResults([]);\r\n                  }}\r\n                  className=\"flex-1 bg-gray-300 text-gray-800 py-3 px-4 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Add Expense Modal */}\r\n        {showAddExpense && selectedGroup && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6\">\r\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Add Expense to {selectedGroup.name}</h2>\r\n              \r\n              <form onSubmit={handleCreateExpense} className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Description *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    required\r\n                    value={expenseFormData.description}\r\n                    onChange={(e) => setExpenseFormData({...expenseFormData, description: e.target.value})}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                    placeholder=\"e.g., Dinner at restaurant\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Amount (₹) *\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    min=\"0.01\"\r\n                    required\r\n                    value={expenseFormData.amount}\r\n                    onChange={(e) => setExpenseFormData({...expenseFormData, amount: e.target.value})}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                    placeholder=\"0.00\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Paid By *\r\n                  </label>\r\n                  <select\r\n                    required\r\n                    value={expenseFormData.paidById}\r\n                    onChange={(e) => setExpenseFormData({...expenseFormData, paidById: parseInt(e.target.value)})}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                  >\r\n                    <option value=\"\">Select who paid</option>\r\n                    {selectedGroup.members?.map(member => (\r\n                      <option key={member.id} value={member.id}>\r\n                        {member.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Split Between * (Select at least one)\r\n                  </label>\r\n                  <div className=\"max-h-40 overflow-y-auto space-y-2 border border-gray-300 rounded-lg p-3\">\r\n                    {selectedGroup.members?.map(member => (\r\n                      <label key={member.id} className=\"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded cursor-pointer\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={expenseFormData.splitBetween.includes(member.id)}\r\n                          onChange={() => handleExpenseSplitToggle(member.id)}\r\n                          className=\"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500\"\r\n                        />\r\n                        <div className=\"flex items-center space-x-2 flex-1\">\r\n                          <div className=\"w-6 h-6 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-semibold\">\r\n                            {member.name.charAt(0).toUpperCase()}\r\n                          </div>\r\n                          <span className=\"text-sm text-gray-900\">{member.name}</span>\r\n                        </div>\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-500 mt-2\">\r\n                    {expenseFormData.splitBetween.length > 0 \r\n                      ? `Split among ${expenseFormData.splitBetween.length} member(s): ₹${expenseFormData.amount ? (parseFloat(expenseFormData.amount) / expenseFormData.splitBetween.length).toFixed(2) : '0.00'} per person`\r\n                      : 'Select members to split this expense'}\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"flex space-x-3 pt-4\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setShowAddExpense(false);\r\n                      setExpenseFormData({\r\n                        description: '',\r\n                        amount: '',\r\n                        paidById: '',\r\n                        splitBetween: []\r\n                      });\r\n                    }}\r\n                    className=\"flex-1 bg-gray-300 text-gray-800 py-3 px-4 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200\"\r\n                    disabled={loading}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-4 rounded-lg hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-all duration-200 disabled:opacity-50\"\r\n                    disabled={loading}\r\n                  >\r\n                    {loading ? 'Creating...' : 'Create Expense'}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Groups;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}