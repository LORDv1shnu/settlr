{"ast":null,"code":"var _jsxFileName = \"D:\\\\Settlr\\\\frontend\\\\src\\\\components\\\\AddExpense.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useExpense } from '../context/ExpenseContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddExpense = ({\n  selectedGroup,\n  onClose,\n  onExpenseAdded,\n  currentUser\n}) => {\n  _s();\n  var _activeGroup$members, _activeGroup$members2;\n  const {\n    createExpense,\n    fetchUsers,\n    users,\n    groups,\n    fetchUserGroups,\n    fetchUserExpenses,\n    loading\n  } = useExpense();\n  const [formData, setFormData] = useState({\n    description: '',\n    amount: '',\n    paidById: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id) || '',\n    groupId: (selectedGroup === null || selectedGroup === void 0 ? void 0 : selectedGroup.id) || '',\n    splitBetween: []\n  });\n  const [selectedMembers, setSelectedMembers] = useState([]);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [currentSelectedGroup, setCurrentSelectedGroup] = useState(selectedGroup);\n  const [hasLoadedInitialData, setHasLoadedInitialData] = useState(false);\n\n  // Load initial data only once\n  useEffect(() => {\n    if (!hasLoadedInitialData) {\n      const loadData = async () => {\n        try {\n          await fetchUsers();\n          if (currentUser && !selectedGroup) {\n            await fetchUserGroups(currentUser.id);\n          }\n        } catch (error) {\n          console.error('Error loading initial data:', error);\n        } finally {\n          setHasLoadedInitialData(true);\n        }\n      };\n      loadData();\n    }\n  }, [fetchUsers, fetchUserGroups, currentUser, selectedGroup, hasLoadedInitialData]);\n\n  // Update form when group changes\n  useEffect(() => {\n    if (selectedGroup || currentSelectedGroup) {\n      var _group$members;\n      const group = selectedGroup || currentSelectedGroup;\n      setFormData(prev => ({\n        ...prev,\n        groupId: group.id\n      }));\n      // Pre-select all group members for splitting\n      const memberIds = ((_group$members = group.members) === null || _group$members === void 0 ? void 0 : _group$members.map(member => member.id)) || [];\n      setSelectedMembers(memberIds);\n      setFormData(prev => ({\n        ...prev,\n        splitBetween: memberIds\n      }));\n    }\n  }, [selectedGroup, currentSelectedGroup]);\n\n  // Set default paidById only if it's empty (initial load)\n  useEffect(() => {\n    if (currentUser && !formData.paidById) {\n      setFormData(prev => ({\n        ...prev,\n        paidById: currentUser.id\n      }));\n    }\n  }, [currentUser, formData.paidById]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleGroupChange = e => {\n    var _group$members3;\n    const groupId = parseInt(e.target.value);\n    const group = groups.find(g => g.id === groupId);\n    setCurrentSelectedGroup(group);\n    setFormData(prev => {\n      var _group$members2;\n      return {\n        ...prev,\n        groupId: groupId,\n        splitBetween: (group === null || group === void 0 ? void 0 : (_group$members2 = group.members) === null || _group$members2 === void 0 ? void 0 : _group$members2.map(member => member.id)) || []\n      };\n    });\n    setSelectedMembers((group === null || group === void 0 ? void 0 : (_group$members3 = group.members) === null || _group$members3 === void 0 ? void 0 : _group$members3.map(member => member.id)) || []);\n  };\n  const handleMemberToggle = userId => {\n    setSelectedMembers(prev => {\n      const newSelection = prev.includes(userId) ? prev.filter(id => id !== userId) : [...prev, userId];\n      setFormData(prevForm => ({\n        ...prevForm,\n        splitBetween: newSelection\n      }));\n      return newSelection;\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n\n    // Validation\n    if (!formData.description.trim()) {\n      setError('Description is required');\n      return;\n    }\n    if (!formData.amount || parseFloat(formData.amount) <= 0) {\n      setError('Please enter a valid amount');\n      return;\n    }\n    if (!formData.paidById) {\n      setError('Please select who paid');\n      return;\n    }\n    if (!formData.groupId) {\n      setError('Group is required');\n      return;\n    }\n    if (formData.splitBetween.length === 0) {\n      setError('Please select at least one person to split with');\n      return;\n    }\n    try {\n      const expenseData = {\n        ...formData,\n        amount: parseFloat(formData.amount),\n        paidById: parseInt(formData.paidById),\n        groupId: parseInt(formData.groupId),\n        splitBetween: formData.splitBetween.map(id => parseInt(id))\n      };\n      console.log('Submitting expense data:', expenseData);\n      const newExpense = await createExpense(expenseData);\n\n      // Verify expense was created successfully\n      if (newExpense && newExpense.id) {\n        var _selectedGroup$member, _currentSelectedGroup, _group$members4;\n        console.log('‚úÖ Expense created successfully with ID:', newExpense.id);\n        setSuccess(`Expense added successfully! (ID: ${newExpense.id})`);\n\n        // Refresh data to show the new expense\n        try {\n          console.log('üîÑ Refreshing data after expense creation...');\n\n          // Refresh user groups (which should include updated expense data)\n          if (currentUser) {\n            await fetchUserGroups(currentUser.id);\n            await fetchUserExpenses(currentUser.id);\n          }\n          console.log('‚úÖ Data refresh completed');\n        } catch (refreshError) {\n          console.error('‚ö†Ô∏è Error refreshing data:', refreshError);\n          // Don't fail the whole operation for refresh errors\n        }\n\n        // Reset form\n        setFormData({\n          description: '',\n          amount: '',\n          paidById: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id) || '',\n          groupId: (selectedGroup === null || selectedGroup === void 0 ? void 0 : selectedGroup.id) || (currentSelectedGroup === null || currentSelectedGroup === void 0 ? void 0 : currentSelectedGroup.id) || '',\n          splitBetween: (selectedGroup === null || selectedGroup === void 0 ? void 0 : (_selectedGroup$member = selectedGroup.members) === null || _selectedGroup$member === void 0 ? void 0 : _selectedGroup$member.map(member => member.id)) || (currentSelectedGroup === null || currentSelectedGroup === void 0 ? void 0 : (_currentSelectedGroup = currentSelectedGroup.members) === null || _currentSelectedGroup === void 0 ? void 0 : _currentSelectedGroup.map(member => member.id)) || []\n        });\n\n        // Reset selected members\n        const group = selectedGroup || currentSelectedGroup;\n        setSelectedMembers((group === null || group === void 0 ? void 0 : (_group$members4 = group.members) === null || _group$members4 === void 0 ? void 0 : _group$members4.map(member => member.id)) || []);\n\n        // Notify parent component if used as modal\n        if (onExpenseAdded) {\n          onExpenseAdded(newExpense);\n        }\n\n        // Auto-close/redirect after success\n        setTimeout(() => {\n          if (onClose) {\n            onClose();\n          }\n        }, 2000); // Increased timeout to show success message\n      } else {\n        console.error('‚ùå Expense creation failed - no ID returned');\n        setError('Failed to create expense. Please check the server logs.');\n      }\n    } catch (error) {\n      console.error('‚ùå Error creating expense:', error);\n      setError(error.message || 'Failed to add expense. Please try again.');\n    }\n  };\n  const activeGroup = selectedGroup || currentSelectedGroup;\n\n  // Show loading while initial data is being fetched\n  if (!hasLoadedInitialData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 pt-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-md mx-auto pt-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded-lg shadow-lg text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this);\n  }\n\n  // If used as standalone page and no group selected\n  if (!selectedGroup && !currentSelectedGroup && groups.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 pt-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-md mx-auto pt-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded-lg shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold mb-4\",\n            children: \"Add Expense\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-4\",\n            children: \"You need to create or join a group first to add expenses.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/groups'),\n            className: \"w-full bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 transition-colors\",\n            children: \"Go to Groups\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Modal mode (when selectedGroup is provided)\n  if (selectedGroup) {\n    var _selectedGroup$member2, _selectedGroup$member3;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-lg max-w-md mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mb-4\",\n        children: [\"Add Expense to \", selectedGroup.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Description *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"description\",\n            value: formData.description,\n            onChange: handleInputChange,\n            placeholder: \"e.g., Lunch at restaurant\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Amount *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"amount\",\n            value: formData.amount,\n            onChange: handleInputChange,\n            placeholder: \"0.00\",\n            step: \"0.01\",\n            min: \"0.01\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Paid By *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"paidById\",\n            value: formData.paidById,\n            onChange: handleInputChange,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select who paid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this), (_selectedGroup$member2 = selectedGroup.members) === null || _selectedGroup$member2 === void 0 ? void 0 : _selectedGroup$member2.map(member => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: member.id,\n              children: [member.name, \" (\", member.email, \")\"]\n            }, member.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Split Between * (Select members)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 max-h-32 overflow-y-auto border rounded-md p-2\",\n            children: (_selectedGroup$member3 = selectedGroup.members) === null || _selectedGroup$member3 === void 0 ? void 0 : _selectedGroup$member3.map(member => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: selectedMembers.includes(member.id),\n                onChange: () => handleMemberToggle(member.id),\n                className: \"rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm\",\n                children: [member.name, \" (\", member.email, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 19\n              }, this)]\n            }, member.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: [\"Selected: \", selectedMembers.length, \" member(s)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading,\n            className: \"flex-1 bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: loading ? 'Adding...' : 'Add Expense'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onClose,\n            disabled: loading,\n            className: \"flex-1 bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Standalone page mode\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 pt-16\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md mx-auto pt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold mb-6 text-center\",\n          children: \"Add New Expense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded\",\n          children: success\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Select Group *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"groupId\",\n              value: formData.groupId,\n              onChange: handleGroupChange,\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Choose a group\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 17\n              }, this), groups.map(group => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: group.id,\n                children: group.name\n              }, group.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Description *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"description\",\n              value: formData.description,\n              onChange: handleInputChange,\n              placeholder: \"e.g., Lunch at restaurant\",\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Amount *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"amount\",\n              value: formData.amount,\n              onChange: handleInputChange,\n              placeholder: \"0.00\",\n              step: \"0.01\",\n              min: \"0.01\",\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), activeGroup && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Paid By *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"paidById\",\n                value: formData.paidById,\n                onChange: handleInputChange,\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select who paid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 21\n                }, this), (_activeGroup$members = activeGroup.members) === null || _activeGroup$members === void 0 ? void 0 : _activeGroup$members.map(member => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: member.id,\n                  children: [member.name, \" (\", member.email, \")\"]\n                }, member.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Split Between * (Select members)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2 max-h-32 overflow-y-auto border rounded-md p-2\",\n                children: (_activeGroup$members2 = activeGroup.members) === null || _activeGroup$members2 === void 0 ? void 0 : _activeGroup$members2.map(member => /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: selectedMembers.includes(member.id),\n                    onChange: () => handleMemberToggle(member.id),\n                    className: \"rounded\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: [member.name, \" (\", member.email, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 25\n                  }, this)]\n                }, member.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mt-1\",\n                children: [\"Selected: \", selectedMembers.length, \" member(s)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3 pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: loading || !activeGroup,\n              className: \"flex-1 bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: loading ? 'Adding...' : 'Add Expense'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => navigate('/dashboard'),\n              disabled: loading,\n              className: \"flex-1 bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50\",\n              children: \"Back to Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 372,\n    columnNumber: 5\n  }, this);\n};\n_s(AddExpense, \"lwanzmBRmv7N3CTOlpneg5hR+IY=\", false, function () {\n  return [useExpense];\n});\n_c = AddExpense;\nexport default AddExpense;\nvar _c;\n$RefreshReg$(_c, \"AddExpense\");","map":{"version":3,"names":["React","useState","useEffect","useExpense","jsxDEV","_jsxDEV","Fragment","_Fragment","AddExpense","selectedGroup","onClose","onExpenseAdded","currentUser","_s","_activeGroup$members","_activeGroup$members2","createExpense","fetchUsers","users","groups","fetchUserGroups","fetchUserExpenses","loading","formData","setFormData","description","amount","paidById","id","groupId","splitBetween","selectedMembers","setSelectedMembers","error","setError","success","setSuccess","currentSelectedGroup","setCurrentSelectedGroup","hasLoadedInitialData","setHasLoadedInitialData","loadData","console","_group$members","group","prev","memberIds","members","map","member","handleInputChange","e","name","value","target","handleGroupChange","_group$members3","parseInt","find","g","_group$members2","handleMemberToggle","userId","newSelection","includes","filter","prevForm","handleSubmit","preventDefault","trim","parseFloat","length","expenseData","log","newExpense","_selectedGroup$member","_currentSelectedGroup","_group$members4","refreshError","setTimeout","message","activeGroup","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","navigate","_selectedGroup$member2","_selectedGroup$member3","onSubmit","type","onChange","placeholder","required","step","min","email","checked","disabled","_c","$RefreshReg$"],"sources":["D:/Settlr/frontend/src/components/AddExpense.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useExpense } from '../context/ExpenseContext';\r\n\r\nconst AddExpense = ({ selectedGroup, onClose, onExpenseAdded, currentUser }) => {\r\n  const {\r\n    createExpense,\r\n    fetchUsers,\r\n    users,\r\n    groups,\r\n    fetchUserGroups,\r\n    fetchUserExpenses,\r\n    loading\r\n  } = useExpense();\r\n  const [formData, setFormData] = useState({\r\n    description: '',\r\n    amount: '',\r\n    paidById: currentUser?.id || '',\r\n    groupId: selectedGroup?.id || '',\r\n    splitBetween: []\r\n  });\r\n\r\n  const [selectedMembers, setSelectedMembers] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [currentSelectedGroup, setCurrentSelectedGroup] = useState(selectedGroup);\r\n  const [hasLoadedInitialData, setHasLoadedInitialData] = useState(false);\r\n\r\n  // Load initial data only once\r\n  useEffect(() => {\r\n    if (!hasLoadedInitialData) {\r\n      const loadData = async () => {\r\n        try {\r\n          await fetchUsers();\r\n          if (currentUser && !selectedGroup) {\r\n            await fetchUserGroups(currentUser.id);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error loading initial data:', error);\r\n        } finally {\r\n          setHasLoadedInitialData(true);\r\n        }\r\n      };\r\n\r\n      loadData();\r\n    }\r\n  }, [fetchUsers, fetchUserGroups, currentUser, selectedGroup, hasLoadedInitialData]);\r\n\r\n  // Update form when group changes\r\n  useEffect(() => {\r\n    if (selectedGroup || currentSelectedGroup) {\r\n      const group = selectedGroup || currentSelectedGroup;\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        groupId: group.id\r\n      }));\r\n      // Pre-select all group members for splitting\r\n      const memberIds = group.members?.map(member => member.id) || [];\r\n      setSelectedMembers(memberIds);\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        splitBetween: memberIds\r\n      }));\r\n    }\r\n  }, [selectedGroup, currentSelectedGroup]);\r\n\r\n  // Set default paidById only if it's empty (initial load)\r\n  useEffect(() => {\r\n    if (currentUser && !formData.paidById) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        paidById: currentUser.id\r\n      }));\r\n    }\r\n  }, [currentUser, formData.paidById]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleGroupChange = (e) => {\r\n    const groupId = parseInt(e.target.value);\r\n    const group = groups.find(g => g.id === groupId);\r\n    setCurrentSelectedGroup(group);\r\n\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      groupId: groupId,\r\n      splitBetween: group?.members?.map(member => member.id) || []\r\n    }));\r\n    setSelectedMembers(group?.members?.map(member => member.id) || []);\r\n  };\r\n\r\n  const handleMemberToggle = (userId) => {\r\n    setSelectedMembers(prev => {\r\n      const newSelection = prev.includes(userId)\r\n        ? prev.filter(id => id !== userId)\r\n        : [...prev, userId];\r\n\r\n      setFormData(prevForm => ({\r\n        ...prevForm,\r\n        splitBetween: newSelection\r\n      }));\r\n\r\n      return newSelection;\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    // Validation\r\n    if (!formData.description.trim()) {\r\n      setError('Description is required');\r\n      return;\r\n    }\r\n\r\n    if (!formData.amount || parseFloat(formData.amount) <= 0) {\r\n      setError('Please enter a valid amount');\r\n      return;\r\n    }\r\n\r\n    if (!formData.paidById) {\r\n      setError('Please select who paid');\r\n      return;\r\n    }\r\n\r\n    if (!formData.groupId) {\r\n      setError('Group is required');\r\n      return;\r\n    }\r\n\r\n    if (formData.splitBetween.length === 0) {\r\n      setError('Please select at least one person to split with');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const expenseData = {\r\n        ...formData,\r\n        amount: parseFloat(formData.amount),\r\n        paidById: parseInt(formData.paidById),\r\n        groupId: parseInt(formData.groupId),\r\n        splitBetween: formData.splitBetween.map(id => parseInt(id))\r\n      };\r\n\r\n      console.log('Submitting expense data:', expenseData);\r\n\r\n      const newExpense = await createExpense(expenseData);\r\n\r\n      // Verify expense was created successfully\r\n      if (newExpense && newExpense.id) {\r\n        console.log('‚úÖ Expense created successfully with ID:', newExpense.id);\r\n        setSuccess(`Expense added successfully! (ID: ${newExpense.id})`);\r\n\r\n        // Refresh data to show the new expense\r\n        try {\r\n          console.log('üîÑ Refreshing data after expense creation...');\r\n\r\n          // Refresh user groups (which should include updated expense data)\r\n          if (currentUser) {\r\n            await fetchUserGroups(currentUser.id);\r\n            await fetchUserExpenses(currentUser.id);\r\n          }\r\n\r\n          console.log('‚úÖ Data refresh completed');\r\n        } catch (refreshError) {\r\n          console.error('‚ö†Ô∏è Error refreshing data:', refreshError);\r\n          // Don't fail the whole operation for refresh errors\r\n        }\r\n\r\n        // Reset form\r\n        setFormData({\r\n          description: '',\r\n          amount: '',\r\n          paidById: currentUser?.id || '',\r\n          groupId: selectedGroup?.id || currentSelectedGroup?.id || '',\r\n          splitBetween: selectedGroup?.members?.map(member => member.id) || currentSelectedGroup?.members?.map(member => member.id) || []\r\n        });\r\n\r\n        // Reset selected members\r\n        const group = selectedGroup || currentSelectedGroup;\r\n        setSelectedMembers(group?.members?.map(member => member.id) || []);\r\n\r\n        // Notify parent component if used as modal\r\n        if (onExpenseAdded) {\r\n          onExpenseAdded(newExpense);\r\n        }\r\n\r\n        // Auto-close/redirect after success\r\n        setTimeout(() => {\r\n          if (onClose) {\r\n            onClose();\r\n          }\r\n        }, 2000); // Increased timeout to show success message\r\n      } else {\r\n        console.error('‚ùå Expense creation failed - no ID returned');\r\n        setError('Failed to create expense. Please check the server logs.');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Error creating expense:', error);\r\n      setError(error.message || 'Failed to add expense. Please try again.');\r\n    }\r\n  };\r\n\r\n  const activeGroup = selectedGroup || currentSelectedGroup;\r\n\r\n  // Show loading while initial data is being fetched\r\n  if (!hasLoadedInitialData) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 pt-16\">\r\n        <div className=\"max-w-md mx-auto pt-8\">\r\n          <div className=\"bg-white p-6 rounded-lg shadow-lg text-center\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto mb-4\"></div>\r\n            <p>Loading...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // If used as standalone page and no group selected\r\n  if (!selectedGroup && !currentSelectedGroup && groups.length === 0) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 pt-16\">\r\n        <div className=\"max-w-md mx-auto pt-8\">\r\n          <div className=\"bg-white p-6 rounded-lg shadow-lg\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Add Expense</h2>\r\n            <p className=\"text-gray-600 mb-4\">You need to create or join a group first to add expenses.</p>\r\n            <button\r\n              onClick={() => navigate('/groups')}\r\n              className=\"w-full bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 transition-colors\"\r\n            >\r\n              Go to Groups\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Modal mode (when selectedGroup is provided)\r\n  if (selectedGroup) {\r\n    return (\r\n      <div className=\"bg-white p-6 rounded-lg shadow-lg max-w-md mx-auto\">\r\n        <h2 className=\"text-xl font-bold mb-4\">Add Expense to {selectedGroup.name}</h2>\r\n\r\n        {error && (\r\n          <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {success && (\r\n          <div className=\"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded\">\r\n            {success}\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          {/* Description */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Description *\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"description\"\r\n              value={formData.description}\r\n              onChange={handleInputChange}\r\n              placeholder=\"e.g., Lunch at restaurant\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Amount */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Amount *\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"amount\"\r\n              value={formData.amount}\r\n              onChange={handleInputChange}\r\n              placeholder=\"0.00\"\r\n              step=\"0.01\"\r\n              min=\"0.01\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Paid By */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Paid By *\r\n            </label>\r\n            <select\r\n              name=\"paidById\"\r\n              value={formData.paidById}\r\n              onChange={handleInputChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n              required\r\n            >\r\n              <option value=\"\">Select who paid</option>\r\n              {selectedGroup.members?.map(member => (\r\n                <option key={member.id} value={member.id}>\r\n                  {member.name} ({member.email})\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* Split Between */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Split Between * (Select members)\r\n            </label>\r\n            <div className=\"space-y-2 max-h-32 overflow-y-auto border rounded-md p-2\">\r\n              {selectedGroup.members?.map(member => (\r\n                <label key={member.id} className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedMembers.includes(member.id)}\r\n                    onChange={() => handleMemberToggle(member.id)}\r\n                    className=\"rounded\"\r\n                  />\r\n                  <span className=\"text-sm\">\r\n                    {member.name} ({member.email})\r\n                  </span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              Selected: {selectedMembers.length} member(s)\r\n            </p>\r\n          </div>\r\n\r\n          {/* Buttons */}\r\n          <div className=\"flex space-x-3 pt-4\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"flex-1 bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {loading ? 'Adding...' : 'Add Expense'}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              disabled={loading}\r\n              className=\"flex-1 bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Standalone page mode\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 pt-16\">\r\n      <div className=\"max-w-md mx-auto pt-8\">\r\n        <div className=\"bg-white p-6 rounded-lg shadow-lg\">\r\n          <h2 className=\"text-2xl font-bold mb-6 text-center\">Add New Expense</h2>\r\n\r\n          {error && (\r\n            <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {success && (\r\n            <div className=\"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded\">\r\n              {success}\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            {/* Group Selection */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Select Group *\r\n              </label>\r\n              <select\r\n                name=\"groupId\"\r\n                value={formData.groupId}\r\n                onChange={handleGroupChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                required\r\n              >\r\n                <option value=\"\">Choose a group</option>\r\n                {groups.map(group => (\r\n                  <option key={group.id} value={group.id}>\r\n                    {group.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Description *\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"description\"\r\n                value={formData.description}\r\n                onChange={handleInputChange}\r\n                placeholder=\"e.g., Lunch at restaurant\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Amount */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Amount *\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"amount\"\r\n                value={formData.amount}\r\n                onChange={handleInputChange}\r\n                placeholder=\"0.00\"\r\n                step=\"0.01\"\r\n                min=\"0.01\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Show remaining fields only if group is selected */}\r\n            {activeGroup && (\r\n              <>\r\n                {/* Paid By */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Paid By *\r\n                  </label>\r\n                  <select\r\n                    name=\"paidById\"\r\n                    value={formData.paidById}\r\n                    onChange={handleInputChange}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\r\n                    required\r\n                  >\r\n                    <option value=\"\">Select who paid</option>\r\n                    {activeGroup.members?.map(member => (\r\n                      <option key={member.id} value={member.id}>\r\n                        {member.name} ({member.email})\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Split Between */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Split Between * (Select members)\r\n                  </label>\r\n                  <div className=\"space-y-2 max-h-32 overflow-y-auto border rounded-md p-2\">\r\n                    {activeGroup.members?.map(member => (\r\n                      <label key={member.id} className=\"flex items-center space-x-2\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={selectedMembers.includes(member.id)}\r\n                          onChange={() => handleMemberToggle(member.id)}\r\n                          className=\"rounded\"\r\n                        />\r\n                        <span className=\"text-sm\">\r\n                          {member.name} ({member.email})\r\n                        </span>\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">\r\n                    Selected: {selectedMembers.length} member(s)\r\n                  </p>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {/* Buttons */}\r\n            <div className=\"flex space-x-3 pt-4\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading || !activeGroup}\r\n                className=\"flex-1 bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {loading ? 'Adding...' : 'Add Expense'}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => navigate('/dashboard')}\r\n                disabled={loading}\r\n                className=\"flex-1 bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50\"\r\n              >\r\n                Back to Dashboard\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddExpense;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}