{"ast":null,"code":"var _jsxFileName = \"D:\\\\Settlr\\\\frontend\\\\src\\\\components\\\\SettleUp.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useExpense } from '../context/ExpenseContext';\nimport { TrendingUp, Users, DollarSign, ArrowRight, CheckCircle, Clock } from 'lucide-react';\nimport { format } from 'date-fns';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SettleUp = () => {\n  _s();\n  const {\n    currentUser,\n    groups,\n    fetchUserGroups,\n    getGroupBalances\n  } = useExpense();\n  const [groupBalances, setGroupBalances] = useState({});\n  const [selectedGroup, setSelectedGroup] = useState(null);\n  const [settlements, setSettlements] = useState([]);\n  useEffect(() => {\n    if (currentUser) {\n      fetchUserGroups(currentUser.id);\n    }\n  }, [currentUser, fetchUserGroups]);\n  useEffect(() => {\n    const loadBalances = async () => {\n      const balances = {};\n      for (const group of groups) {\n        try {\n          const groupBalance = await getGroupBalances(group.id);\n          balances[group.id] = groupBalance;\n        } catch (error) {\n          console.error('Error loading balance for group:', group.id);\n        }\n      }\n      setGroupBalances(balances);\n    };\n    if (groups.length > 0) {\n      loadBalances();\n    }\n  }, [groups, getGroupBalances]);\n\n  // Calculate optimal settlements for a group\n  const calculateSettlements = groupId => {\n    const balance = groupBalances[groupId];\n    if (!balance || !balance.userBalances) return [];\n    const settlements = [];\n    const balances = {\n      ...balance.userBalances\n    };\n\n    // Get people who owe money (positive balance) and who are owed money (negative balance)\n    const debtors = Object.entries(balances).filter(([_, amount]) => amount > 0);\n    const creditors = Object.entries(balances).filter(([_, amount]) => amount < 0);\n\n    // Calculate optimal settlements\n    for (let [debtor, debtAmount] of debtors) {\n      for (let [creditor, creditAmount] of creditors) {\n        if (debtAmount > 0 && creditAmount < 0) {\n          const settleAmount = Math.min(debtAmount, Math.abs(creditAmount));\n          if (settleAmount > 0) {\n            settlements.push({\n              from: debtor,\n              to: creditor,\n              amount: settleAmount\n            });\n\n            // Update remaining balances\n            balances[debtor] -= settleAmount;\n            balances[creditor] += settleAmount;\n            debtAmount -= settleAmount;\n            creditAmount += settleAmount;\n          }\n        }\n      }\n    }\n    return settlements;\n  };\n  const getUserBalance = (groupId, userId) => {\n    const balance = groupBalances[groupId];\n    if (!balance || !balance.userBalances) return 0;\n    return balance.userBalances[userId] || 0;\n  };\n  const getGroupSettlements = groupId => {\n    return calculateSettlements(groupId);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 pt-16\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: \"Settle Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Review balances and settle debts with your friends\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-100 p-3 rounded-full\",\n          children: /*#__PURE__*/_jsxDEV(TrendingUp, {\n            className: \"w-6 h-6 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm p-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 mb-4\",\n          children: \"Your Overall Balance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n          children: (() => {\n            let totalOwed = 0;\n            let totalToReceive = 0;\n            let settledGroups = 0;\n            groups.forEach(group => {\n              const userBalance = getUserBalance(group.id, currentUser === null || currentUser === void 0 ? void 0 : currentUser.id); // Changed from currentUser?.name to currentUser?.id\n              console.log(`🔍 Group ${group.name} (ID: ${group.id}) - User ${currentUser === null || currentUser === void 0 ? void 0 : currentUser.id} balance:`, userBalance);\n              if (userBalance > 0) {\n                totalOwed += userBalance;\n              } else if (userBalance < 0) {\n                totalToReceive += Math.abs(userBalance);\n              } else {\n                settledGroups++;\n              }\n            });\n            console.log('💰 Final SettleUp totals - Owed:', totalOwed, 'To Receive:', totalToReceive, 'Settled Groups:', settledGroups);\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center p-4 bg-red-50 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                  className: \"w-8 h-8 text-red-600 mx-auto mb-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-2xl font-bold text-red-600\",\n                  children: [\"\\u20B9\", totalOwed.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"You owe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center p-4 bg-green-50 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                  className: \"w-8 h-8 text-green-600 mx-auto mb-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-2xl font-bold text-green-600\",\n                  children: [\"\\u20B9\", totalToReceive.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"You're owed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center p-4 bg-blue-50 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"w-8 h-8 text-blue-600 mx-auto mb-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-2xl font-bold text-blue-600\",\n                  children: settledGroups\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Settled groups\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true);\n          })()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: groups.map(group => {\n          var _group$members, _group$members2;\n          const userBalance = getUserBalance(group.id, currentUser === null || currentUser === void 0 ? void 0 : currentUser.id);\n          const groupSettlements = getGroupSettlements(group.id);\n          const isSettled = Math.abs(userBalance) < 0.01;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-sm p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-purple-100 p-2 rounded-full\",\n                  children: /*#__PURE__*/_jsxDEV(Users, {\n                    className: \"w-5 h-5 text-purple-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-semibold text-gray-900\",\n                    children: group.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: [(_group$members = group.members) === null || _group$members === void 0 ? void 0 : _group$members.length, \" members\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: isSettled ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2 text-green-600\",\n                  children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Settled up\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `font-medium ${userBalance > 0 ? 'text-red-600' : 'text-green-600'}`,\n                  children: userBalance > 0 ? `You owe ₹${userBalance.toFixed(2)}` : `You're owed ₹${Math.abs(userBalance).toFixed(2)}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-gray-900 mb-2\",\n                children: \"Member Balances\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: (_group$members2 = group.members) === null || _group$members2 === void 0 ? void 0 : _group$members2.map(member => {\n                  const memberBalance = getUserBalance(group.id, member.id); // Changed from member.name to member.id\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between py-2 px-3 bg-gray-50 rounded\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium\",\n                      children: member.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `text-sm font-medium ${memberBalance > 0 ? 'text-red-600' : memberBalance < 0 ? 'text-green-600' : 'text-gray-600'}`,\n                      children: memberBalance > 0 ? `Owes ₹${memberBalance.toFixed(2)}` : memberBalance < 0 ? `Owed ₹${Math.abs(memberBalance).toFixed(2)}` : 'Settled'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 187,\n                      columnNumber: 27\n                    }, this)]\n                  }, member.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this), groupSettlements.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-gray-900 mb-2\",\n                children: \"Suggested Settlements\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: groupSettlements.map((settlement, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between p-3 bg-blue-50 rounded-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-gray-900\",\n                      children: settlement.from\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(ArrowRight, {\n                      className: \"w-4 h-4 text-blue-600\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-gray-900\",\n                      children: settlement.to\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold text-blue-600\",\n                      children: [\"\\u20B9\", settlement.amount.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors\",\n                      children: \"Settle\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 27\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 19\n            }, this), isSettled && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-4 text-green-600\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"w-8 h-8 mx-auto mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-medium\",\n                children: \"All settled up in this group!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 19\n            }, this)]\n          }, group.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), groups.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(Users, {\n          className: \"w-16 h-16 text-gray-300 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 mb-2\",\n          children: \"No groups found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Join or create a group to start settling expenses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n_s(SettleUp, \"vfFl76pgVB0VWZK7wjuMSyLo9IM=\", false, function () {\n  return [useExpense];\n});\n_c = SettleUp;\nexport default SettleUp;\nvar _c;\n$RefreshReg$(_c, \"SettleUp\");","map":{"version":3,"names":["React","useState","useEffect","useExpense","TrendingUp","Users","DollarSign","ArrowRight","CheckCircle","Clock","format","jsxDEV","_jsxDEV","Fragment","_Fragment","SettleUp","_s","currentUser","groups","fetchUserGroups","getGroupBalances","groupBalances","setGroupBalances","selectedGroup","setSelectedGroup","settlements","setSettlements","id","loadBalances","balances","group","groupBalance","error","console","length","calculateSettlements","groupId","balance","userBalances","debtors","Object","entries","filter","_","amount","creditors","debtor","debtAmount","creditor","creditAmount","settleAmount","Math","min","abs","push","from","to","getUserBalance","userId","getGroupSettlements","className","children","fileName","_jsxFileName","lineNumber","columnNumber","totalOwed","totalToReceive","settledGroups","forEach","userBalance","log","name","toFixed","map","_group$members","_group$members2","groupSettlements","isSettled","members","member","memberBalance","settlement","index","_c","$RefreshReg$"],"sources":["D:/Settlr/frontend/src/components/SettleUp.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useExpense } from '../context/ExpenseContext';\r\nimport { TrendingUp, Users, DollarSign, ArrowRight, CheckCircle, Clock } from 'lucide-react';\r\nimport { format } from 'date-fns';\r\n\r\nconst SettleUp = () => {\r\n  const { currentUser, groups, fetchUserGroups, getGroupBalances } = useExpense();\r\n  const [groupBalances, setGroupBalances] = useState({});\r\n  const [selectedGroup, setSelectedGroup] = useState(null);\r\n  const [settlements, setSettlements] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      fetchUserGroups(currentUser.id);\r\n    }\r\n  }, [currentUser, fetchUserGroups]);\r\n\r\n  useEffect(() => {\r\n    const loadBalances = async () => {\r\n      const balances = {};\r\n      for (const group of groups) {\r\n        try {\r\n          const groupBalance = await getGroupBalances(group.id);\r\n          balances[group.id] = groupBalance;\r\n        } catch (error) {\r\n          console.error('Error loading balance for group:', group.id);\r\n        }\r\n      }\r\n      setGroupBalances(balances);\r\n    };\r\n\r\n    if (groups.length > 0) {\r\n      loadBalances();\r\n    }\r\n  }, [groups, getGroupBalances]);\r\n\r\n  // Calculate optimal settlements for a group\r\n  const calculateSettlements = (groupId) => {\r\n    const balance = groupBalances[groupId];\r\n    if (!balance || !balance.userBalances) return [];\r\n\r\n    const settlements = [];\r\n    const balances = { ...balance.userBalances };\r\n\r\n    // Get people who owe money (positive balance) and who are owed money (negative balance)\r\n    const debtors = Object.entries(balances).filter(([_, amount]) => amount > 0);\r\n    const creditors = Object.entries(balances).filter(([_, amount]) => amount < 0);\r\n\r\n    // Calculate optimal settlements\r\n    for (let [debtor, debtAmount] of debtors) {\r\n      for (let [creditor, creditAmount] of creditors) {\r\n        if (debtAmount > 0 && creditAmount < 0) {\r\n          const settleAmount = Math.min(debtAmount, Math.abs(creditAmount));\r\n          if (settleAmount > 0) {\r\n            settlements.push({\r\n              from: debtor,\r\n              to: creditor,\r\n              amount: settleAmount\r\n            });\r\n\r\n            // Update remaining balances\r\n            balances[debtor] -= settleAmount;\r\n            balances[creditor] += settleAmount;\r\n            debtAmount -= settleAmount;\r\n            creditAmount += settleAmount;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return settlements;\r\n  };\r\n\r\n  const getUserBalance = (groupId, userId) => {\r\n    const balance = groupBalances[groupId];\r\n    if (!balance || !balance.userBalances) return 0;\r\n    return balance.userBalances[userId] || 0;\r\n  };\r\n\r\n  const getGroupSettlements = (groupId) => {\r\n    return calculateSettlements(groupId);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 pt-16\">\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-8\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">Settle Up</h1>\r\n            <p className=\"text-gray-600\">Review balances and settle debts with your friends</p>\r\n          </div>\r\n          <div className=\"bg-green-100 p-3 rounded-full\">\r\n            <TrendingUp className=\"w-6 h-6 text-green-600\" />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Overall Summary */}\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6 mb-8\">\r\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Your Overall Balance</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            {(() => {\r\n              let totalOwed = 0;\r\n              let totalToReceive = 0;\r\n              let settledGroups = 0;\r\n\r\n              groups.forEach(group => {\r\n                const userBalance = getUserBalance(group.id, currentUser?.id); // Changed from currentUser?.name to currentUser?.id\r\n                console.log(`🔍 Group ${group.name} (ID: ${group.id}) - User ${currentUser?.id} balance:`, userBalance);\r\n\r\n                if (userBalance > 0) {\r\n                  totalOwed += userBalance;\r\n                } else if (userBalance < 0) {\r\n                  totalToReceive += Math.abs(userBalance);\r\n                } else {\r\n                  settledGroups++;\r\n                }\r\n              });\r\n\r\n              console.log('💰 Final SettleUp totals - Owed:', totalOwed, 'To Receive:', totalToReceive, 'Settled Groups:', settledGroups);\r\n\r\n              return (\r\n                <>\r\n                  <div className=\"text-center p-4 bg-red-50 rounded-lg\">\r\n                    <DollarSign className=\"w-8 h-8 text-red-600 mx-auto mb-2\" />\r\n                    <div className=\"text-2xl font-bold text-red-600\">₹{totalOwed.toFixed(2)}</div>\r\n                    <div className=\"text-sm text-gray-600\">You owe</div>\r\n                  </div>\r\n                  <div className=\"text-center p-4 bg-green-50 rounded-lg\">\r\n                    <DollarSign className=\"w-8 h-8 text-green-600 mx-auto mb-2\" />\r\n                    <div className=\"text-2xl font-bold text-green-600\">₹{totalToReceive.toFixed(2)}</div>\r\n                    <div className=\"text-sm text-gray-600\">You're owed</div>\r\n                  </div>\r\n                  <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\r\n                    <CheckCircle className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\r\n                    <div className=\"text-2xl font-bold text-blue-600\">{settledGroups}</div>\r\n                    <div className=\"text-sm text-gray-600\">Settled groups</div>\r\n                  </div>\r\n                </>\r\n              );\r\n            })()}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Groups List */}\r\n        <div className=\"space-y-6\">\r\n          {groups.map(group => {\r\n            const userBalance = getUserBalance(group.id, currentUser?.id);\r\n            const groupSettlements = getGroupSettlements(group.id);\r\n            const isSettled = Math.abs(userBalance) < 0.01;\r\n\r\n            return (\r\n              <div key={group.id} className=\"bg-white rounded-lg shadow-sm p-6\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"bg-purple-100 p-2 rounded-full\">\r\n                      <Users className=\"w-5 h-5 text-purple-600\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-gray-900\">{group.name}</h3>\r\n                      <p className=\"text-sm text-gray-500\">{group.members?.length} members</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    {isSettled ? (\r\n                      <div className=\"flex items-center space-x-2 text-green-600\">\r\n                        <CheckCircle className=\"w-5 h-5\" />\r\n                        <span className=\"font-medium\">Settled up</span>\r\n                      </div>\r\n                    ) : (\r\n                      <div className={`font-medium ${userBalance > 0 ? 'text-red-600' : 'text-green-600'}`}>\r\n                        {userBalance > 0 ? `You owe ₹${userBalance.toFixed(2)}` : `You're owed ₹${Math.abs(userBalance).toFixed(2)}`}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Group Members Balances */}\r\n                <div className=\"mb-4\">\r\n                  <h4 className=\"font-medium text-gray-900 mb-2\">Member Balances</h4>\r\n                  <div className=\"space-y-2\">\r\n                    {group.members?.map(member => {\r\n                      const memberBalance = getUserBalance(group.id, member.id); // Changed from member.name to member.id\r\n                      return (\r\n                        <div key={member.id} className=\"flex items-center justify-between py-2 px-3 bg-gray-50 rounded\">\r\n                          <span className=\"text-sm font-medium\">{member.name}</span>\r\n                          <span className={`text-sm font-medium ${\r\n                            memberBalance > 0 ? 'text-red-600' :\r\n                            memberBalance < 0 ? 'text-green-600' :\r\n                            'text-gray-600'\r\n                          }`}>\r\n                            {memberBalance > 0 ? `Owes ₹${memberBalance.toFixed(2)}` :\r\n                             memberBalance < 0 ? `Owed ₹${Math.abs(memberBalance).toFixed(2)}` :\r\n                             'Settled'}\r\n                          </span>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Suggested Settlements */}\r\n                {groupSettlements.length > 0 && (\r\n                  <div>\r\n                    <h4 className=\"font-medium text-gray-900 mb-2\">Suggested Settlements</h4>\r\n                    <div className=\"space-y-2\">\r\n                      {groupSettlements.map((settlement, index) => (\r\n                        <div key={index} className=\"flex items-center justify-between p-3 bg-blue-50 rounded-lg\">\r\n                          <div className=\"flex items-center space-x-3\">\r\n                            <span className=\"font-medium text-gray-900\">{settlement.from}</span>\r\n                            <ArrowRight className=\"w-4 h-4 text-blue-600\" />\r\n                            <span className=\"font-medium text-gray-900\">{settlement.to}</span>\r\n                          </div>\r\n                          <div className=\"flex items-center space-x-3\">\r\n                            <span className=\"font-bold text-blue-600\">₹{settlement.amount.toFixed(2)}</span>\r\n                            <button className=\"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors\">\r\n                              Settle\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {isSettled && (\r\n                  <div className=\"text-center py-4 text-green-600\">\r\n                    <CheckCircle className=\"w-8 h-8 mx-auto mb-2\" />\r\n                    <p className=\"font-medium\">All settled up in this group!</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {groups.length === 0 && (\r\n          <div className=\"text-center py-12\">\r\n            <Users className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No groups found</h3>\r\n            <p className=\"text-gray-600\">Join or create a group to start settling expenses</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettleUp;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}